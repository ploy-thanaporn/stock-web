"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[13],{9013:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var r=a(7437),s=a(2265);let l=a(8472).Z.create({baseURL:"https://express-workshop.vercel.app"});var c=a(5030),o=a(9824);function d(e){let{open:t,close:a,title:l,action:d,handleCreateProduct:n,handleEditProduct:i,initialData:m}=e,[u,x]=(0,s.useState)({productId:"",productName:"",quantity:"",warehouseId:"",warehouseName:"",shelfName:""});(0,s.useEffect)(()=>{"Edit"===d&&m&&x(m)},[d,m]);let p=e=>{x({...u,[e.target.name]:e.target.value})},h=async e=>{e.preventDefault(),"Create"===d?await n(u):"Edit"===d&&await i(u)};return(0,r.jsxs)(c.Vq,{open:t,onClose:a,className:"relative z-50",children:[(0,r.jsx)(c.ZR,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),(0,r.jsx)("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:(0,r.jsx)("div",{className:"flex min-h-full items-end justify-center text-center sm:items-center sm:p-0",children:(0,r.jsxs)(c.EM,{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-[650px]",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 md:p-5 border-b rounded-t",children:[(0,r.jsx)(c.$N,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-900",children:l}),(0,r.jsx)("button",{type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-xl text-sm w-8 h-8 ms-auto inline-flex justify-center items-center",onClick:a,children:(0,r.jsx)(o.j7p,{className:"w-8 h-8"})})]}),(0,r.jsxs)("form",{onSubmit:h,children:[(0,r.jsxs)("div",{className:"grid gap-4 mb-4 grid-cols-2 p-4 md:p-5 ",children:[(0,r.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,r.jsxs)("label",{htmlFor:"productId",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:["Product Id ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",name:"productId",value:u.productId,onChange:p,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Type Product ID",required:!0})]}),(0,r.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,r.jsxs)("label",{htmlFor:"productId",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:["Product Name ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",name:"productName",value:u.productName,onChange:p,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Type Product Name",required:!0})]}),(0,r.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,r.jsxs)("label",{htmlFor:"warehouseId",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:["Warehouse Id ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",name:"warehouseId",value:u.warehouseId,onChange:p,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Type Warehouse ID",required:!0})]}),(0,r.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,r.jsxs)("label",{htmlFor:"warehouseName",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:["Warehouse Name ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",name:"warehouseName",value:u.warehouseName,onChange:p,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Type Warehouse Name",required:!0})]}),(0,r.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,r.jsxs)("label",{htmlFor:"quantity",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:["Quantity ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",name:"quantity",value:u.quantity,onChange:p,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Type Quantity",required:!0})]}),(0,r.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,r.jsxs)("label",{htmlFor:"shelfName",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:["Shelf Name ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",name:"shelfName",value:u.shelfName,onChange:p,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Type Shelf Name",required:!0})]})]}),(0,r.jsxs)("div",{className:"bg-slate-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[(0,r.jsx)("button",{type:"submit",className:"inline-flex w-full justify-center rounded-md bg-green-600 px-3 py-2 text-sm font-semibold text-white shadow-sm sm:ml-3 sm:w-auto",children:"Create"===d?"Create":"Update"}),(0,r.jsx)("button",{type:"button","data-autofocus":!0,onClick:a,className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",children:"Cancel"})]})]})]})})})]})}var n=a(4379),i=a.n(n),m=a(6356),u=()=>{let[e,t]=(0,s.useState)([]),[a,c]=(0,s.useState)(!1),[o,n]=(0,s.useState)(""),[u,x]=(0,s.useState)(null),p=async()=>{try{let e=(await l.get("/products")).data.sort((e,t)=>e.productId-t.productId);t(e)}catch(e){console.log(e)}};(0,s.useEffect)(()=>{p()},[]);let h=async e=>{try{(await i().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"})).isConfirmed&&(await l.delete("/products/delete-product/".concat(e)),i().fire({title:"Success",text:"Product deleted successfully!",icon:"success",confirmButtonText:"OK"}),p())}catch(e){console.log(e)}},y=t=>{x(e.find(e=>e._id===t)),n("Edit"),c(!0)},g=async t=>{try{if(e.some(e=>e.productId===t.productId)){i().fire({title:"Error",text:"Product ID already exists",icon:"error",confirmButtonText:"OK"});return}let a=await l.post("/products/create-product",t);i().fire({title:"Success",text:a.data.message,icon:"success",confirmButtonText:"OK"}),c(!1),p()}catch(e){console.error("Error creating product:",e)}},f=async e=>{try{let t=await l.put("/products/update-product/".concat(e._id),{productId:e.productId,productName:e.productName,quantity:e.quantity,warehouseId:e.warehouseId,warehouseName:e.warehouseName,shelfName:e.shelfName});i().fire({title:"Success",text:t.data.message,icon:"success",confirmButtonText:"OK"}),c(!1),p()}catch(e){console.error("Error updating product:",e)}};return(0,r.jsxs)("div",{className:"mt-10",children:[(0,r.jsx)("div",{className:"flex items-center justify-end",children:(0,r.jsxs)("button",{className:"flex items-center bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded",onClick:()=>{c(!0),n("Create"),x(null)},children:[(0,r.jsx)(m.WZt,{className:"mr-2"})," Create"]})}),a&&(0,r.jsx)(d,{open:a,close:()=>{c(!1),x(null)},title:"".concat("Create"===o?"Create":"Edit"," Product"),action:o,handleCreateProduct:g,handleEditProduct:f,initialData:u}),(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 mt-10",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsx)("tr",{children:["Product ID","Product Name","Quantity","Warehouse ID","Warehouse Name","Shelf Name","Edit","Delete"].map(e=>(0,r.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider text-gray-800",children:e},e))})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200 text-center",children:e.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.productId}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.productName}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.quantity}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.warehouseId}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.warehouseName}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.shelfName}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:(0,r.jsx)("button",{className:"text-yellow-500 hover:bg-slate-100 rounded-full",onClick:()=>y(e._id),children:(0,r.jsx)(m.zmo,{className:"w-5 h-5 m-2"})})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:(0,r.jsx)("button",{className:"text-red-500 hover:bg-slate-100 rounded-full",onClick:()=>h(e._id),children:(0,r.jsx)(m.ZkW,{className:"w-5 h-5 m-2"})})})]},e._id))})]})]})}}}]);